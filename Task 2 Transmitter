#define F_CPU 16000000UL
#include <avr/io.h>
#include <util/delay.h>

void UART_init(void) {
    // 9600 Baud for 16MHz clock
    UBRR0H = 0;
    UBRR0L = 103; 
    // Enable Receiver (to get data from PC) and Transmitter (to send to Arduino B)
    UCSR0B = (1 << RXEN0) | (1 << TXEN0); 
    // 8-bit data frame
    UCSR0C = (1 << UCSZ01) | (1 << UCSZ00); 
}
b
void UART_send(char data) {
    while (!(UCSR0A & (1 << UDRE0))); // Wait for empty transmit buffer
    UDR0 = data;b
}

char UART_receive(void) {
    while (!(UCSR0A & (1 << RXC0))); // Wait for data from PC
    return UDR0;
}

int main(void) {
    UART_init();
    while (1) {
        char input = UART_receive(); // Get value 1, 2, or 3 from Serial Monitor
        UART_send(input);            // Forward that value to Receiver Arduino
    }
}
